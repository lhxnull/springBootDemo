<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>首页</title>

    <!-- Bootstrap -->
    <link href="/demo/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/demo/css/index.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<!--引入导航栏-->
<div th:include="/common/top :: top"></div>
<!-- 右下角按钮 -->
<!-- <button class="btn btn-default btn_right_bottom">写</button> -->
<!-- 图片轮播 -->
<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
        <li data-target="#carousel-example-generic" data-slide-to="1"></li>
        <li data-target="#carousel-example-generic" data-slide-to="2"></li>
        <li data-target="#carousel-example-generic" data-slide-to="3"></li>
        <li data-target="#carousel-example-generic" data-slide-to="4"></li>
        <li data-target="#carousel-example-generic" data-slide-to="5"></li>
    </ol>

    <!-- Wrapper for slides -->
    <div class="carousel-inner" role="listbox">
        <div class="item active">
            <img src="/demo/imgs/ic_p4.jpg">
            <p class="carousel-caption">
                欲上青天揽明月
            </p>
        </div>
        <div class="item">
            <img src="/demo/imgs/ic_p5.jpg">
            <p class="carousel-caption">
                欲上青天揽明月
            </p>
        </div>
        <div class="item">
            <img src="/demo/imgs/ic_p6.jpg">
            <p class="carousel-caption">
                欲上青天揽明月
            </p>
        </div>
        <div class="item">
            <img src="/demo/imgs/ic_p7.jpg">
            <p class="carousel-caption">
                欲上青天揽明月
            </p>
        </div>
        <div class="item">
            <img src="/demo/imgs/ic_p8.jpg">
            <p class="carousel-caption">
                欲上青天揽明月
            </p>
        </div>
        <div class="item">
            <img src="/demo/imgs/ic_p9.jpg">
            <p class="carousel-caption">
                欲上青天揽明月
            </p>
        </div>
    </div>

    <!-- Controls -->
    <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>
<!-- 功能模块 -->
<div class="row div_function">
    <div class="col-xs-4">
        <div class="panel panel-default" id="pFunc1">
            <div class="panel-body">
                <strong>欲上青天揽明月</strong>
                <img class="iv_function" src="/demo/imgs/ic_store.svg">
            </div>
        </div>
    </div>
    <div class="col-xs-4">
        <div class="panel panel-default"  id="pFunc2">
            <div class="panel-body">
                <strong>欲上青天揽明月</strong>
                <img class="iv_function" src="/demo/imgs/ic_remeber.svg">
            </div>
        </div>
    </div>
    <div class="col-xs-4">
        <div class="panel panel-default"  id="pFunc3">
            <div class="panel-body">
                <strong>欲上青天揽明月</strong>
                <img class="iv_function" src="/demo/imgs/ic_personal.svg">
            </div>
        </div>
    </div>
</div>
<!-- 技术日记 -->
<div class="container div_divider">
    <!-- 分割线 -->
    <hr class="hr_1">Bigname Technology World !<hr class="hr_2">
    <div class="row">
        <!-- 文章列表 -->
        <div class="col-xs-9">
            <div class="list-group div_article">
                <!-- 子头栏 -->
                <a href="/" class="list-group-item active item_article_first">
                    <h4 class="list-group-item-heading">
                        My Life, Like Sun!
                    </h4>
                </a>

                <div class="btn-group" data-toggle="buttons" id="btndiv">
                    <button type="button" class="btn btn-primary" name="name" value="all">查看全部</button>
                    <button type="button" class="btn btn-primary" name="name" value="own">只看自己</button>
                </div>
                <!-- 文章列表 -->
                <div th:if="${not #lists.isEmpty(articles)}" th:fragment="table_refresh" id="table_refresh">
                    <div th:each="articles:${articles}" >
                        <div class="row"  >
                            <div class="jumbotron">
                                <h3 th:text="${articles.title}"></h3>
                                <span class="summary" th:text="${articles.summary}"></span><br/>
                                <p>
                                    <a class="btn btn-primary btn-lg" th:href="@{'/article/detail/'+${articles.id}}" role="button">
                                    阅读全文
                                        <!--<img class="iv_article img-rounded" src="/imgs/ic_android1.jpg">-->
                                    </a>
                                </p>

                            </div>
                            <!--右侧图片，信息-->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 右侧 -->
        <div class="col-xs-3 div_record">
            <!-- 用户信息 -->
            <div class="jumbotron div_userinfo">
                <img class="iv_user_head img-circle" src="/demo/imgs/ic_p5.jpg">
                <div style="display: inline-block; margin-left: 12px;font-size: 18px;" th:text="${userNickname}"></div>
            </div>
            <!-- 随手记录 -->
            <div style="display: flex;">
                <div style="flex: 1"><hr></div>
                <div style="text-align: center;line-height: 48px;color: #34374C">记录美好的心情</div>
                <div style="flex: 1"><hr></div>
            </div>
            <input type="text" class="form-control" placeholder="标题:美好的一天...">
            <br>
            <textarea class="form-control" rows="3" name=textarea placeholder="内容:今天捡到一分钱！！！^_^"></textarea>
            <br>
            <div class="div_save">
                <button type="button" class="btn btn-primary btn_save_record">save</button>
            </div>
            <hr>
            <!-- 小功能列表 -->
            <div class="row div_little_func">
                <div class="col-xs-4">
                    <button class="btn .btn-block btn-cricle btn_stay"
                            onclick="javascript:window.location.href=path+'/article/Administration';">
                            管理
                    </button>
                </div>
                <div class="col-xs-4">
                    <button class="btn btn-default btn-cricle btn_write"
                            onclick="javascript:window.location.href=path+'/article/write';">
                        写
                    </button>
                </div>
                <div class="">
                    <button class=""
                            onclick="javascript:window.location.href=path+'/anon/pages/toForget.do';">
                        修改密码
                    </button>
                </div>

            </div>
        </div>
    </div>

</div>


<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="/demo/js/jquery-3.3.1.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/demo/js/bootstrap.min.js"></script>
<script src="/demo/js/init.js" type="text/script"></script>
<script src="/demo/js/util.js"></script>
<!--使用JS获取项目根路径-->
<script>
        var strFullPath = window.document.location.href;
        var strPath = window.document.location.pathname;
        var pos = strFullPath.indexOf(strPath);
        var prePath = strFullPath.substring(0, pos);
        var postPath = strPath.substring(0, strPath.substr(1).indexOf('/') + 1);
        var path = prePath+postPath ;
</script>
<script>
//    /*<![CDATA[*/
//    var message = [[${articles}]];
//    console.log(message);
//
//    /*]]>*/
//    $(function () {
//        var message = [[${session.userNickname}]];
        // ajax请求
        $("#btndiv .btn").click(function(){
            $('#table_refresh').load("/demo/article/getOneself?type="+$(this).val());
//            $.ajax({
//                url: path + "/article/getOneself",
//                type: "post",
//                async: false,
//                data: {
//                    type:$(this).val()
//                },
//                success: function (responseText) {
//
//                },
//                error: function (response, ajaxOptions, thrownError) {
//                    console.log(response);
//                    console.log(ajaxOptions);
//                    console.log(thrownError);
//                    // sweetAlert("系统错误");
//                }
//            });
        });
//    });
</script>
</body>
</html>